<!DOCTYPE html>
<html lang="zh">
  <head>
    <script>var _sf_startpt=(new Date()).getTime()</script>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
    <title>KeystoneJS &middot; 入门
    </title>
    <meta name="keywords" content="node.js,nodejs,cms,publishing,platform,web,development,framework,express,mongo,mongodb,bootstrap,react,jquery">
    <meta name="description" content="Get a head-start on the features you need. KeystoneJS is the easiest way to build dynamic websites, applications and APIs with Node.js and MongoDB.">
    <meta property="og:locale" content="en-us">
    <meta property="og:title" content="KeystoneJS">
    <meta property="og:description" content="KeystoneJS is an open source Node.js CMS and web application platform built on Express and MongoDB.">
    <meta property="og:url" content="https://keystonejs.com^current_url^">
    <meta property="og:site_name" content="KeystoneJS">
    <meta property="og:type" content="article">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,300italic,400,500,700" rel="stylesheet">
    <link href="/styles/site.min.css" rel="stylesheet">
    <link href="/styles/prism.css" rel="stylesheet">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  </head>
  <body>
    <div class="language-switcher">
      <div class="container"><a href="/zh/getting-started" class="active language-switcher-option">中文 (Chinese)</a><a href="/getting-started" class="language-switcher-option">English</a></div>
    </div>
    <header role="banner" class="docs-header">
      <div class="container">
        <button type="button" data-toggle="collapse" data-target=".docs-nav__collapse" class="navbar-toggle navbar-toggle-menu"><span class="sr-only">锁定导航栏</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
        </button><a href="/zh/" title="KeystoneJS" class="keystone-logo"><img src="/images/logo.svg" alt="KeystoneJS" width="207" height="70"></a>
        <nav class="docs-nav">
          <div class="docs-nav__collapse collapse">
            <ul class="docs-nav__nav">
              <li><a href="/zh">首页</a></li>
              <li class="active"><a href="/zh/getting-started">入门指南</a></li>
              <li><a href="/zh/docs">文档</a></li>
              <li><a href="/zh/examples">范例</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
    <div class="page-header">
      <div class="container">
        <h1>入门</h1>
        <p class="lead">创建Node.js网站最快的方式。要深入其中，<a href="/zh/docs/getting-started">请查阅文档。</a></p>
      </div>
    </div>
    <div class="docs-body">
      <div class="gs-guide">
        <div class="gs-guide-section">
          <div class="container-sm">
            <div class="gs-guide__header">
              <h2 class="gs-guide__title"><span class="gs-guide__title-count">1</span>
                <div class="gs-guide__title-label">前提条件</div>
              </h2>
              <div class="gs-guide__subtitle">
                <p>开始之前先确保你已经安装了<a href="https://nodejs.org/download" target="_blank">Node.js</a> 0.10+ 和<a href="https://www.mongodb.org/downloads" target="_blank">MongoDB</a> v2.4+。</p>
                <p>要使用KeystoneJS，你需要掌握合理的Javascript知识，并熟悉数据库概念之类的基础知识，会用 node / npm 等。</p>
              </div>
            </div>
          </div>
        </div>
        <div class="gs-guide-figure gs-guide-figure--prerequisites hidden-xs">
          <div class="column nodejs"><a href="https://nodejs.org/download/" target="_blank">
              <div class="logo"><img src="/images/getting-started/nodejs-logo.png" alt="Node.js logo" width="245" height="66"></div><span class="prerequisite">从Node.js下载页面下载并安装用于你的平台的Node.js。</span></a></div>
          <div class="column mongodb"><a href="https://docs.mongodb.org/manual/installation/" target="_blank">
              <div class="logo"><img src="/images/getting-started/mongodb-logo.png" alt="MongoDB logo" width="294" height="84"></div><span class="prerequisite">查阅MongoDB安装指南了解如何在你的操作系统上安装MongoDB。</span></a></div>
        </div>
        <div class="gs-guide-section">
          <div class="container-sm">
            <div class="gs-guide__header">
              <h2 class="gs-guide__title"><span class="gs-guide__title-count">2</span>
                <div class="gs-guide__title-label">命令</div>
              </h2>
            </div>
            <h3>安装生成器</h3>
            <p>你将要使用由<a href='http://yeoman.io/', target='_blank'>Yeoman</a>制作的<a href='https://github.com/keystonejs/generator-keystone', target='_blank'>KeystoneJS 生成器</a>。在根目录运行：</p>
            <pre class="command-line">npm install -g generator-keystone</pre>
            <h3>给项目创建一个文件夹</h3>
            <p>你可以在任何地方创建项目：</p>
            <pre class="command-line">mkdir my-test-project</pre>
            <p>然后进入新项目目录：</p>
            <pre class="command-line">cd my-test-project</pre>
            <h3>运行生成器</h3>
            <pre class="command-line">yo keystone</pre>
            <p>生成器会问你几个问题，主要是你想要什么功能，然后进行配置，并把你需要的所有文件复制到你的项目目录中。</p>
            <p>它还会从npm中安装依赖项，帮你做好准备。</p>
          </div>
        </div>
        <div class="gs-guide-figure gs-guide-figure--commands hidden-xs">
          <div class="window safari"><img src="/images/getting-started/commands-safari.png" alt="Safari window" width="942" height="616"></div>
          <div class="window terminal">
            <div class="terminal-cursor"></div><img src="/images/getting-started/commands-terminal.png" alt="Terminal window" width="650" height="437">
          </div>
          <div class="figure-shadow"></div>
        </div>
        <div class="gs-guide-section">
          <div class="container-sm">
            <div class="gs-guide__header">
              <h2 class="gs-guide__title"><span class="gs-guide__title-count">3</span>
                <div class="gs-guide__title-label">搞定了！</div>
              </h2>
              <p class="gs-guide__subtitle">你刚刚创建了自己的第一个KeystoneJS项目，恭喜你！</p>
              <p class="gs-guide__subtitle">像这样在命令行中运行它：</p>
              <pre class="command-line">node keystone</pre>
              <p class="gs-guide__subtitle">然后打开<a href="https://localhost:3000" target="_blank">http://localhost:3000</a> 在浏览器中看看。</p>
              <p class="gs-guide__subtitle">如果你想知道生成器究竟做了什么，可以看一下我们的入门指南，它介绍了手动搭建过程。如果你刚接触Node.js，看一下对你非常有帮助。</p>
              <p class="gs-guide__subtitle"><a href="/zh/docs/getting-started">查阅入门指南 &rarr;</a></p>
            </div>
          </div>
        </div>
        <div class="gs-guide-figure gs-guide-figure--finished wow-much-find hidden-xs"><img src="/images/getting-started/commands-safari.png" alt="Safari window" width="1680" height="600" class="sr-only"></div>
        <div class="gs-guide-section">
          <div class="container-sm">
            <div class="gs-guide__header">
              <h2 class="gs-guide__title"><span class="gs-guide__title-count">?</span>
                <div class="gs-guide__title-label">问题</div>
              </h2>
              <p class="gs-guide__subtitle">出错了？希望下面这些提示会有帮助。</p>
              <h3>错误！请试着以root/管理员身份重新运行该命令。</h3>
              <p>在运行npm install -g generator-keystone时，你可能会遇到EACCES错误，让你以root/管理员身份重新运行这个命令。这表明有许可权限问题。</p>
              <p>你可以在开发系统中将目录的所有权改成当前$USER，这样在安装非受信代码时就不必运行sudo了：</p>
              <pre>sudo chown -R $USER /usr/local
 
# 某些O/S可能还要改其它目录
sudo chown -R $USER /usr/lib/node_modules/</pre>
              <p>在生产/共享环境中，你可能希望带着sudo前缀重新运行npm命令：</p>
              <pre>sudo npm install -g generator-keystone</pre>
              <p>要了解更多信息，请参阅Isaac Schulueter写的Intro to npm中的<a href='http://foohack.com/2010/08/intro-to-npm/#what_no_sudo', target='_blank'>"什么, 没sudo?"</a>章节。</p>
              <h3>你说找不到我的数据库是什么意思？</h3>
              <p>默认情况下，KeystoneJS会在localhost的默认端口下连接运行中的MongoDB服务器。如果你遇到跟MongoDB连接相关的错误，请确保MongoDB服务器运行着。</p>
              <p>如果你还没装MongoDB，请按照下面的指示操作。</p>
              <p>要连接除localhost之外的其它服务器，找到Keystone项目目录下的.env文件，添加MONGO_URI配置：</p>
              <pre>MONGO_URI=mongodb://your-server/database-name</pre>
              <h3>其它问题？</h3>
              <p class="gs-guide__subtitle">如果你的问题还没解决，可以到<a href="https://groups.google.com/d/forum/keystonejs" target="_blank">KeystoneJS谷歌群组</a>上找我们。</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="docs-footer">
      <div class="container">
        <p>Created by <a href="https://twitter.com/jedwatson" target="_blank">@jedwatson</a>, <a href="https://twitter.com/bladey" target="_blank">@bladey</a> and <a href="https://twitter.com/jossmackison" target="_blank">@jossmackison</a> at <a href="https://www.thinkmill.com.au" target="_blank">Thinkmill</a>, and other <a href="https://github.com/keystonejs/keystone/contributors" target="_blank">contributors</a> under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a></p>
        <ul class="list-inline">
          <li><a href="/zh/getting-started" title="KeystoneJS Getting Started">Getting Started</a></li>
          <li><a href="/zh/docs" title="KeystoneJS Documentation">Documentation</a></li>
          <li><a href="https://groups.google.com/forum/#!forum/keystonejs" target="_blank" title="KeystoneJS Google Group">Google Group</a></li>
          <li><a href="https://github.com/keystonejs/keystone" target="_blank" title="Github Project (new window)">Github Project</a></li>
          <li><a href="https://demo.keystonejs.com" target="_blank" title="Demo Website (new window)">Demo Website</a></li>
          <li><a href="/zh/examples" title="KeystoneJS Database">Examples</a></li>
        </ul>
      </div>
    </div>
    <div class="docs-footer-floor">
      <div class="container">
        <div class="social-buttons">
          <div class="social-button social-button__twitter"><a href="https://twitter.com/keystonejs" data-show-count="true" class="twitter-follow-button">Follow @keystonejs</a></div>
          <div class="social-button social-button__github">
            <iframe src="https://ghbtns.com/github-btn.html?user=keystonejs&amp;repo=keystone&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="86" height="20"></iframe>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/lib/jquery/jquery-1.10.2.min.js"></script>
    <script src="/js/lib/bootstrap/collapse.js"></script>
    <script src="/js/lib/prism/prism.min.js"></script>
    <script src="/js/anchor-links.js"></script>
    <script>
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
      
    </script>
    <script>
      if (window.location.hostname.match(/keystonejs\.com/)) {
      	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      	ga('create', 'UA-43970386-1', 'keystonejs.com');
      	ga('send', 'pageview');
      }
      
    </script>
    <script>
      if (window.location.hostname.match(/keystonejs\.com/)) {
      	var _sf_async_config = { uid: 46610, domain: 'keystonejs.com', useCanonical: true };
      	(function() {
      		function loadChartbeat() {
      			window._sf_endpt = (new Date()).getTime();
      			var e = document.createElement('script');
      			e.setAttribute('language', 'javascript');
      			e.setAttribute('type', 'text/javascript');
      			e.setAttribute('src','//static.chartbeat.com/js/chartbeat.js');
      			document.body.appendChild(e);
      		};
      		var oldonload = window.onload;
      		window.onload = (typeof window.onload != 'function') ?
      		loadChartbeat : function() { oldonload(); loadChartbeat(); };
      	})();
      }
      
    </script>
    <script>
      if (window.location.hostname.match(/keystonejs\.com/)) {
      	setTimeout(function(){var a=document.createElement("script");
      	var b=document.getElementsByTagName("script")[0];
      	a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0013/3329.js?"+Math.floor(new Date().getTime()/3600000);
      	a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
      }
    </script>
  </body>
</html>